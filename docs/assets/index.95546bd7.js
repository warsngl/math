import{c as y,r as _,o as a,a as u,b as o,d as p,w as b,e as h,F as m,f as v,g as k,K as A,t as d,h as w,v as g,i as S,j as N,k as q,l as $,n as C,m as M,p as V,q as O}from"./vendor.be0f54ca.js";const I=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}};I();const L=y({state(){return{min:2,max:10,action:"+",answers:[]}},mutations:{saveSettings(t,{min:e,max:i,action:l}){t.min=e,t.max=i,t.action=l},finish(t,{answers:e}){t.answers.push(e),localStorage.setItem("math-answers",JSON.stringify(t.answers))},initialAnswers(t){const e=JSON.parse(localStorage.getItem("math-answers"));e&&(t.answers=e)},clearAnswers(t){localStorage.removeItem("math-answers"),t.answers.length=0}}}),K={class:"navbar"},T=h("\u0417\u0430\u0434\u0430\u043D\u0438\u044F"),B=h("\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438");function F(t,e,i,l,s,r){const n=_("router-link");return a(),u("ul",K,[o("li",null,[p(n,{to:"/"},{default:b(()=>[T]),_:1})]),o("li",null,[p(n,{to:"/settings"},{default:b(()=>[B]),_:1})])])}var f=(t,e)=>{const i=t.__vccOpts||t;for(const[l,s]of e)i[l]=s;return i};const Q={};var U=f(Q,[["render",F]]);const D={class:"flex flex-col items-center"};function P(t,e,i,l,s,r){const n=_("TheNavbar"),c=_("router-view");return a(),u(m,null,[p(n,{class:"mb-8"}),o("div",D,[p(c,null,{default:b(({Component:x})=>[(a(),v(A,null,[(a(),v(k(x),{key:t.$route.fullPath}))],1024))]),_:1})])],64)}const j={mounted(){this.$store.commit("initialAnswers")},components:{TheNavbar:U}};var E=f(j,[["render",P]]);const H={class:"flex items-center mb-2"},J={class:"text-2xl font-bold border-b border-transparent"},z={class:"relative"},R={key:0,class:"text-xs absolute"},W={class:"text-2xl"};function G(t,e,i,l,s,r){return a(),u(m,null,[o("div",H,[o("p",J,d(s.question),1),w(o("input",{class:"answer w-10","onUpdate:modelValue":e[0]||(e[0]=n=>s.answer=n),onKeydown:e[1]||(e[1]=S((...n)=>r.submit&&r.submit(...n),["enter"])),ref:"answerInput"},null,544),[[g,s.answer]]),o("div",z,[r.action=="/"?(a(),u("span",R,"\u043E\u0441\u0442.")):N("",!0)])]),o("button",{class:"btn bg-green-400 mb-6",onClick:e[2]||(e[2]=(...n)=>r.submit&&r.submit(...n))},"\u041E\u0442\u0432\u0435\u0442\u0438\u0442\u044C"),o("p",W,"\u0421\u0447\u0435\u0442: "+d(s.result),1),o("button",{class:"btn bg-pink-600",onClick:e[3]||(e[3]=(...n)=>r.finish&&r.finish(...n))},"\u0417\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C")],64)}const X={data(){return{answer:null,rightAnswer:null,question:null,result:0,answers:[],time:null}},computed:{min(){return this.$store.state.min},max(){return this.$store.state.max},action(){return this.$store.state.action},page(){return this.$route.path}},methods:{rnd(t=this.min,e=this.max+1){return Math.trunc(Math.random()*(e-t))+t},submit(){if(this.answer){const t=this.answer==this.rightAnswer;t&&this.result++,this.answers.push({success:t,question:this.question,answer:this.answer,time:(performance.now()-this.time)/1e3}),this.newQuestion(),this.answer="",this.$refs.answerInput.focus()}},newQuestion(){let t=this.rnd(),e=this.rnd();switch(this.action){case"+":this.question=t+" + "+e+" = ",this.rightAnswer=+t+e;break;case"*":e=this.rnd(this.min,this.min+10),this.question=t+" * "+e+"= ",this.rightAnswer=+t*e;break;case"/":t<e&&([t,e]=[e,t]),this.question=t+" / "+e+"= ",this.rightAnswer=+t%e;break}this.time=performance.now()},finish(){this.$store.commit("finish",{answers:this.answers}),this.result=0,this.answers=[],this.$router.push("/settings")}},watch:{page(){this.newQuestion()}},mounted(){this.newQuestion()}};var Y=f(X,[["render",G]]);const Z=h("\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),ee=o("option",{value:"+"},"+",-1),te=o("option",{value:"*"},"*",-1),se=o("option",{value:"/"},"/",-1),ne=[ee,te,se],re=h("Min"),oe=h("Max"),ie={class:"round"};function ae(t,e,i,l,s,r){return a(),u(m,null,[o("span",null,[Z,w(o("select",{class:"select","onUpdate:modelValue":e[0]||(e[0]=n=>s.action=n)},ne,512),[[q,s.action]])]),o("span",null,[re,w(o("input",{class:"answer w-16",type:"number",min:"2","onUpdate:modelValue":e[1]||(e[1]=n=>s.min=n)},null,512),[[g,s.min]])]),o("span",null,[oe,w(o("input",{class:"answer w-16",type:"number","onUpdate:modelValue":e[2]||(e[2]=n=>s.max=n)},null,512),[[g,s.max]])]),o("button",{class:"btn bg-green-400 mt-4",onClick:e[3]||(e[3]=n=>r.saveSettings())},"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),(a(!0),u(m,null,$(s.answers,n=>(a(),u("div",ie,[(a(!0),u(m,null,$(n,c=>(a(),u("div",{class:C(["example",c.success?"bg-green-400":"bg-pink-400"])},d(c.question)+" "+d(c.answer)+" ("+d(c.time.toFixed(2)+"\u0441\u0435\u043A"||"-")+")",3))),256))]))),256)),o("button",{class:"btn bg-pink-600",onClick:e[4]||(e[4]=(...n)=>r.clearAnswers&&r.clearAnswers(...n))},"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C")],64)}const le={data(){return{min:null,max:null,action:null,answers:[]}},methods:{saveSettings(t,e,i){t!=null||(t=this.min),e!=null||(e=this.max),i!=null||(i=this.action),this.$store.commit("saveSettings",{min:t,max:e,action:i})},clearAnswers(){this.$store.commit("clearAnswers")}},mounted(){this.min=this.$store.state.min,this.max=this.$store.state.max,this.action=this.$store.state.action,this.answers=this.$store.state.answers}};var ue=f(le,[["render",ae]]);const ce=[{path:"/",component:Y},{path:"/settings",component:ue}],he=M({history:V(),routes:ce});O(E).use(he).use(L).mount("#app");
